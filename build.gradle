/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'maven-publish'
}

apply plugin: 'idea'

repositories {
    mavenLocal()
    maven {
        url = uri('https://repo.maven.apache.org/maven2/')
    }
    mavenCentral()
}

dependencies {
    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.5'
    implementation 'io.gsonfire:gson-fire:1.8.5'
    implementation 'com.google.code.gson:gson:2.9.0'
    implementation 'org.eclipse.jetty.websocket:websocket-client:9.4.46.v20220331'
    implementation 'org.slf4j:slf4j-simple:1.7.36'
    implementation 'org.jmdns:jmdns:3.5.7'
    implementation 'commons-cli:commons-cli:1.5.0'
    implementation('io.github.dschanoeh:homie-java') {
        version {
            branch = 'master'
        }
    }
    implementation 'org.eclipse.jdt:org.eclipse.jdt.annotation:2.2.600'
}

jar {
    manifest {
        attributes(
                'Main-Class': 'de.karstenbecker.daikin.Daikin'
        )
    }
    duplicatesStrategy('exclude')
    from { (configurations.runtimeClasspath).collect { it.isDirectory() ? it : zipTree(it) } } {
        exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
    }
}

group = 'MQTTServices'
version = '0.0.5'
description = 'Daikin'
java.sourceCompatibility = JavaVersion.VERSION_11

publishing {
    publications {
        maven(MavenPublication) {
            from(components.java)
        }
    }
}
targetCompatibility = JavaVersion.VERSION_11
